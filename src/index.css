@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Root variables ── */
:root {
  --bg-floor: #E8E4DC;
  --bg-wall: #D4D0C8;
  --accent-blue: #7BA3C9;
  --accent-green: #8FBC8F;
  --accent-coral: #E8A598;
  --accent-purple: #B8A9C9;
  --text-dark: #4A4A4A;
  --highlight: #FFE4B5;
  --glow: rgba(123, 163, 201, 0.4);
  --parchment: #D4C8A8;
  --parchment-light: #E8DCC8;
  --wood: #A08060;
  --wood-dark: #6B5040;
  --wood-light: #C8B080;
  --ink: #3A2820;
}

/* ── Base ── */
html, body, #root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  background-color: var(--bg-floor);
  color: var(--ink);
  font-family: 'Silkscreen', monospace;
}

/* ── Pixel art rendering ── */
.pixelated {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ── Pixel panel — the main window frame ── */
.pixel-panel {
  background: var(--parchment-light);
  border: 3px solid var(--wood-dark);
  box-shadow:
    inset 2px 2px 0 var(--parchment-light),
    inset -2px -2px 0 var(--wood-light),
    4px 4px 0 rgba(58, 40, 32, 0.25);
}

/* ── Inset panel — recessed area inside the frame ── */
.pixel-inset {
  background: var(--parchment);
  border: 2px solid var(--wood-dark);
  box-shadow:
    inset 2px 2px 0 var(--wood-light),
    inset -1px -1px 0 var(--parchment-light);
}

/* ── Pixel button — raised, chunky ── */
.pixel-btn {
  border: 2px solid var(--wood-dark);
  background: var(--parchment-light);
  box-shadow:
    inset -2px -2px 0 var(--wood-light),
    inset 2px 2px 0 #F0E8D8,
    2px 2px 0 rgba(58, 40, 32, 0.2);
  cursor: pointer;
  transition: none;
}
.pixel-btn:hover {
  background: #F0E8D8;
}
.pixel-btn:active, .pixel-btn-pressed {
  background: var(--parchment);
  box-shadow:
    inset 2px 2px 0 var(--wood-light),
    inset -2px -2px 0 var(--parchment-light);
  transform: translate(1px, 1px);
}
.pixel-btn:disabled {
  opacity: 0.4;
  cursor: default;
}
.pixel-btn:disabled:hover {
  background: var(--parchment-light);
}

/* ── Pixel chip — smaller raised element ── */
.pixel-chip {
  border: 2px solid var(--wood-dark);
  background: var(--parchment-light);
  box-shadow:
    inset -1px -1px 0 var(--wood-light),
    inset 1px 1px 0 #F0E8D8;
}

/* ── Pixel separator — hard 2px line ── */
.pixel-sep {
  height: 2px;
  background: var(--wood-dark);
  box-shadow: 0 1px 0 var(--parchment-light);
}

/* ── Dither texture overlay ── */
.pixel-dither {
  position: relative;
}
.pixel-dither::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.04;
  pointer-events: none;
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAEklEQVQIW2P4z8DwHwMDAwMAGOoD/TF2MIQAAAAASUVORK5CYII=");
  background-repeat: repeat;
  image-rendering: pixelated;
}

/* ── Scrollbar — pixel style ── */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: var(--parchment);
  border-left: 2px solid var(--wood-dark);
}
::-webkit-scrollbar-thumb {
  background: var(--wood-light);
  border: 2px solid var(--wood-dark);
}
::-webkit-scrollbar-thumb:hover {
  background: var(--wood);
}

/* ── Text selection ── */
button, [role="button"] {
  user-select: none;
}

/* ── Focus — hard pixel outline ── */
button:focus-visible,
input:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 0px;
}

/* ── Onboarding overlay ── */
.onboarding-overlay {
  position: absolute;
  inset: 0;
  background: rgba(58, 40, 32, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
}

/* ── Spinner ── */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin {
  animation: spin 0.7s linear infinite;
}
